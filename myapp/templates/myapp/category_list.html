{% extends 'myapp/base.html' %}
{% block content %}
<div class='row'>
  <div class='col-md-9'>
    <h2 class='p-3'>カテゴリ一覧</h2>
  </div>
  <div class='row'>
    {% for category in category_list %}
      <div class='col-md-4 mt-3'>
        <div class="card">
          <div class="card-body">
            <p class="card-title">{{ category.name }}&nbsp;<small>({{ category.post_count}})</small></p>
            <hr>
            <!--
            post_set.all
            カテゴリーに属するPOSTを全て取得
            -->
            {% for post in category.post_set.all|slice:":2" %}
              <p><a href="{% url 'myapp:post_detail' post.id %}" class='text-black'>{{ post.title }}</a></p>
            {% endfor %}
            <p><a href="{% url 'myapp:category_detail' category.name_en %}">{{ category.name }}全記事一覧</a></p>
          </div>
        </div>

      </div>
    {% endfor %}
</div>

{% endblock %}
